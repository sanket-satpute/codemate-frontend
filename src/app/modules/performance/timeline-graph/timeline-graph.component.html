<div class="timeline-graph-container">
  <h3 class="graph-title">Performance Timeline</h3>
  <div class="graph-wrapper">
    <svg [attr.viewBox]="viewBox" preserveAspectRatio="none" class="timeline-svg">
      <!-- X-axis labels (timestamps) -->
      <text *ngFor="let metric of metrics; let i = index"
            [attr.x]="(i / (metrics.length - 1)) * (chartWidth - 2 * padding) + padding"
            [attr.y]="chartHeight + padding - 10"
            text-anchor="middle"
            class="axis-label x-axis-label">
        {{ metric.timestamp | date:'shortTime' }}
      </text>

      <!-- Y-axis labels (dynamic based on max values, for simplicity we'll put fixed markers) -->
      <line x1="50" [attr.y1]="chartHeight" x2="50" y2="0" class="axis-line"></line>
      <text x="40" y="0" text-anchor="end" alignment-baseline="middle" class="axis-label">100%</text>
      <text x="40" [attr.y]="chartHeight / 2" text-anchor="end" alignment-baseline="middle" class="axis-label">50%</text>
      <text x="40" [attr.y]="chartHeight" text-anchor="end" alignment-baseline="middle" class="axis-label">0%</text>


      <!-- CPU Line -->
      <polyline *ngIf="cpuLine" [attr.points]="cpuLine" class="line-chart cpu-line"></polyline>
      <!-- Memory Line -->
      <polyline *ngIf="memoryLine" [attr.points]="memoryLine" class="line-chart memory-line"></polyline>
      <!-- Response Time Line -->
      <polyline *ngIf="responseTimeLine" [attr.points]="responseTimeLine" class="line-chart response-time-line"></polyline>
    </svg>
  </div>
  <div *ngIf="metrics.length === 0" class="empty-state">
    <p>No real-time metrics available. Starting stream...</p>
  </div>
</div>
